@using SMSClient.Models.ViewModel;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model SMSClient.Models.ViewModel.UserRolesViewModel

@using(Html.BeginForm()) {

    using(Html.DevExtreme().ValidationGroup()) {
        @(
    Html.DevExtreme().Form<UserRolesViewModel>()
                .Items(items =>
                {
                    items.AddSimpleFor(m => m.UserName)
                        .Editor(e => e.TagBox().DataSource(d => d.Mvc().LoadAction("GetUsers")).DisplayExpr("UserName"));

                    items.AddSimpleFor(m => m.Roles)
                    .Editor(e => e.TagBox().DataSource(d => d.Mvc().LoadAction("GetRoles"))
                                                                    .DisplayExpr("Name")
                                                                    .ValueExpr("Name")
                                                                    .ApplyValueMode(EditorApplyValueMode.UseButtons)
                                                                    .ShowSelectionControls(true));

                        items.AddButton()
                                   .ButtonOptions(button => button.Text("Assign Roles")
                                      .Type(ButtonType.Danger)
                                      .UseSubmitBehavior(true)
                                                );
                })
    )
    }
}